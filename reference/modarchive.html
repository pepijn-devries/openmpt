<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Functions to interact with modArchive — modarchive_info • openmpt</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Functions to interact with modArchive — modarchive_info"><meta property="og:description" content='ModArchive is one of the largest online archives of module
files. These functions will assist in accessing this archive.
For mor information see vignette("modarchive").'><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openmpt</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.8.0001</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/modarchive.html">ModArchive</a>
    </li>
    <li>
      <a href="../articles/openmpt-alternatives.html">openmpt and Alternatives</a>
    </li>
    <li>
      <a href="../articles/openmpt-objects.html">openmpt S3 Class Objects</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/pepijn-devries/openmpt/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Functions to interact with modArchive</h1>
    <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/openmpt/blob/master/R/modarchive.R" class="external-link"><code>R/modarchive.R</code></a></small>
    <div class="hidden name"><code>modarchive.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://ModArchive.org" class="external-link">ModArchive</a> is one of the largest online archives of module
files. These functions will assist in accessing this archive.
For mor information see <code><a href="../articles/modarchive.html">vignette("modarchive")</a></code>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">modarchive_info</span><span class="op">(</span><span class="va">mod_id</span>, api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_search_mod</span><span class="op">(</span></span>
<span>  <span class="va">text</span>,</span>
<span>  where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"filename_or_songtitle"</span>, <span class="st">"filename_and_songtitle"</span>, <span class="st">"filename"</span>, <span class="st">"songtitle"</span>,</span>
<span>    <span class="st">"module_instruments"</span>, <span class="st">"module_comments"</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unset"</span>, <span class="st">"669"</span>, <span class="st">"AHX"</span>, <span class="st">"DMF"</span>, <span class="st">"HVL"</span>, <span class="st">"IT"</span>, <span class="st">"MED"</span>, <span class="st">"MO3"</span>, <span class="st">"MOD"</span>, <span class="st">"MTM"</span>,</span>
<span>    <span class="st">"OCT"</span>, <span class="st">"OKT"</span>, <span class="st">"S3M"</span>, <span class="st">"STM"</span>, <span class="st">"XM"</span><span class="op">)</span>,</span>
<span>  <span class="va">size</span>,</span>
<span>  <span class="va">channels</span>,</span>
<span>  <span class="va">page</span>,</span>
<span>  api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_search_genre</span><span class="op">(</span></span>
<span>  genre <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unset"</span>, <span class="fu">modarchive_genres</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unset"</span>, <span class="st">"669"</span>, <span class="st">"AHX"</span>, <span class="st">"DMF"</span>, <span class="st">"HVL"</span>, <span class="st">"IT"</span>, <span class="st">"MED"</span>, <span class="st">"MO3"</span>, <span class="st">"MOD"</span>, <span class="st">"MTM"</span>,</span>
<span>    <span class="st">"OCT"</span>, <span class="st">"OKT"</span>, <span class="st">"S3M"</span>, <span class="st">"STM"</span>, <span class="st">"XM"</span><span class="op">)</span>,</span>
<span>  <span class="va">size</span>,</span>
<span>  <span class="va">channels</span>,</span>
<span>  <span class="va">page</span>,</span>
<span>  api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_search_hash</span><span class="op">(</span><span class="va">text</span>, api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_random</span><span class="op">(</span></span>
<span>  genre <span class="op">=</span> <span class="fu">modarchive_genres</span><span class="op">(</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unset"</span>, <span class="st">"669"</span>, <span class="st">"AHX"</span>, <span class="st">"DMF"</span>, <span class="st">"HVL"</span>, <span class="st">"IT"</span>, <span class="st">"MED"</span>, <span class="st">"MO3"</span>, <span class="st">"MOD"</span>, <span class="st">"MTM"</span>,</span>
<span>    <span class="st">"OCT"</span>, <span class="st">"OKT"</span>, <span class="st">"S3M"</span>, <span class="st">"STM"</span>, <span class="st">"XM"</span><span class="op">)</span>,</span>
<span>  <span class="va">size</span>,</span>
<span>  <span class="va">page</span>,</span>
<span>  api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_search_artist</span><span class="op">(</span><span class="va">text</span>, <span class="va">page</span>, api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_view_by</span><span class="op">(</span></span>
<span>  <span class="va">text</span>,</span>
<span>  by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"view_by_list"</span>, <span class="st">"view_by_rating_comments"</span>, <span class="st">"view_by_rating_reviews"</span>,</span>
<span>    <span class="st">"view_modules_by_artistid"</span>, <span class="st">"view_modules_by_guessed_artist"</span><span class="op">)</span>,</span>
<span>  format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"unset"</span>, <span class="st">"669"</span>, <span class="st">"AHX"</span>, <span class="st">"DMF"</span>, <span class="st">"HVL"</span>, <span class="st">"IT"</span>, <span class="st">"MED"</span>, <span class="st">"MO3"</span>, <span class="st">"MOD"</span>, <span class="st">"MTM"</span>,</span>
<span>    <span class="st">"OCT"</span>, <span class="st">"OKT"</span>, <span class="st">"S3M"</span>, <span class="st">"STM"</span>, <span class="st">"XM"</span><span class="op">)</span>,</span>
<span>  <span class="va">size</span>,</span>
<span>  <span class="va">page</span>,</span>
<span>  api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_download</span><span class="op">(</span><span class="va">mod_id</span>, read_fun <span class="op">=</span> <span class="va">read_mod</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_requests</span><span class="op">(</span>api <span class="op">=</span> <span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">modarchive_genres</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-mod-id">mod_id<a class="anchor" aria-label="anchor" href="#arg-mod-id"></a></dt>
<dd><p>An <code>integer</code> code used as module identifier in the
ModArchive database. A <code>mod_id</code> can be obtained by performing a
search with for instance <code>modarchive_search_mod()</code>.</p></dd>


<dt id="arg-api">api<a class="anchor" aria-label="anchor" href="#arg-api"></a></dt>
<dd><p>Most ModArchive functions require a personal secret API key.
This key can be obtained from the ModArchive forum. See
<code><a href="../articles/modarchive.html">vignette("modarchive")</a></code> for more details.</p></dd>


<dt id="arg-text">text<a class="anchor" aria-label="anchor" href="#arg-text"></a></dt>
<dd><p>Text (<code>character</code>) used for searching. In some functions
the asterisk symbol <code>*</code> can be used as a wildcard in the search.</p></dd>


<dt id="arg-where">where<a class="anchor" aria-label="anchor" href="#arg-where"></a></dt>
<dd><p>A <code>character</code> string specifying where to search.
See the 'usage' section for allowed values.</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>A <code>character</code> string specifying to which file format
the search should be limited. See 'usage' section for allowed values.</p></dd>


<dt id="arg-size">size<a class="anchor" aria-label="anchor" href="#arg-size"></a></dt>
<dd><p>A vector of two <code>integer</code> values, specifying a filter
to apply to the search results. It filters the results to the file size range
specified here in kB. When omitted, all file sizes are returned.</p></dd>


<dt id="arg-channels">channels<a class="anchor" aria-label="anchor" href="#arg-channels"></a></dt>
<dd><p>A vector of two <code>integer</code> values, specifying a filter
to apply to the search results. It filters the results to the specified range
of number of channels in the module. When omitted, modules with any
number of channels are returned.</p></dd>


<dt id="arg-page">page<a class="anchor" aria-label="anchor" href="#arg-page"></a></dt>
<dd><p>Many of the ModArchive functions return paginated tables.
When this argument is omitted, the first page is returned. Use an
<code>integer</code> value to return a specific page. The total number of pages
of a search or view is returned as an attribute to the returned
<code>data.frame</code>.</p></dd>


<dt id="arg-genre">genre<a class="anchor" aria-label="anchor" href="#arg-genre"></a></dt>
<dd><p>A genre of music to limit your search to. See
<code>modarchive_genres()</code> for a list of available values.</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>A <code>character</code> string specifying which aspect to view the
results by. See the 'usage' section for allowed values.</p></dd>


<dt id="arg-read-fun">read_fun<a class="anchor" aria-label="anchor" href="#arg-read-fun"></a></dt>
<dd><p>Function that accepts an URL first argument.
By default it is <code><a href="read_mod.html">read_mod()</a></code> and is used to read the file.
You can replace it with other functions such as <code>ProTrackR2::pt2_read_mod()</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed on to <code>read_fun</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>Most functions documented here return a <code>data.frame</code>
with information about one or more modules, or an artist. <code>NULL</code>
is returned in case a search has no results.</p>
<p><code>modarchive_download()</code> returns the result of calling <code>read_fun</code>
on the requested module.</p>
<p><code>modarchive_requests()</code> returns the number of requests that
you made this month using the API key, and how many are available.</p>
<p><code>modarchive_api()</code> returns your API key, when you have set it as
environmental variable (<code>"MODARCHIVE_API"</code>) or session option
(<code>"modarchive_api"</code>). When it is not set it will return <code>""</code>.</p>
<p><code>modarchive_genres()</code> returns a vector of <code>character</code> strings,
listing the music genres specified by ModArchive.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="modland.html">modland_search()</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">elekfunk</span> <span class="op">&lt;-</span> <span class="fu">modarchive_download</span><span class="op">(</span><span class="fl">41529</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Check how many API requests are left this month</span></span></span>
<span class="r-in"><span><span class="va">reqs</span> <span class="op">&lt;-</span> <span class="fu">modarchive_requests</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">reqs</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">reqs</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">-</span> <span class="va">reqs</span><span class="op">$</span><span class="va">current</span> <span class="op">/</span> <span class="va">reqs</span><span class="op">$</span><span class="va">maximum</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="va">reqs</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## The examples below will only work with a valid</span></span></span>
<span class="r-in"><span><span class="co">## API key for modArchive and if more than 25%</span></span></span>
<span class="r-in"><span><span class="co">## of the monthly requests are left:</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu">modarchive_api</span><span class="op">(</span><span class="op">)</span> <span class="op">!=</span> <span class="st">""</span> <span class="op">&amp;&amp;</span> <span class="va">reqs</span> <span class="op">&gt;</span> <span class="fl">0.25</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="va">mod_info</span> <span class="op">&lt;-</span> <span class="fu">modarchive_info</span><span class="op">(</span><span class="fl">41529</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">mod_info</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="va">mod_info</span><span class="op">$</span><span class="va">url</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">info_search</span> <span class="op">&lt;-</span> <span class="fu">modarchive_search_mod</span><span class="op">(</span><span class="st">"*intro.mod"</span>,</span></span>
<span class="r-in"><span>                                       size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8L</span>, <span class="fl">10L</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                       channels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1L</span>, <span class="fl">4L</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">info_genre</span>  <span class="op">&lt;-</span> <span class="fu">modarchive_search_genre</span><span class="op">(</span><span class="st">"Chiptune"</span>, <span class="st">"IT"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">info_hash</span>   <span class="op">&lt;-</span> <span class="fu">modarchive_search_hash</span><span class="op">(</span><span class="st">"8f80bcab909f700619025bd7f2975749"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">info_artist</span> <span class="op">&lt;-</span> <span class="fu">modarchive_search_artist</span><span class="op">(</span><span class="st">"89200"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">info_list</span>   <span class="op">&lt;-</span> <span class="fu">modarchive_view_by</span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"view_by_list"</span>, <span class="st">"XM"</span>,</span></span>
<span class="r-in"><span>                                    page <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">info_random</span> <span class="op">&lt;-</span> <span class="fu">modarchive_random</span><span class="op">(</span><span class="st">"Comedy"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

